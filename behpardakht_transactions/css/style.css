/**
 * Modern UI for Behpardakht Transactions (drop-in)
 * مسیر: /modules/addons/behpardakht_transactions/css/style.css
 */

:root{
  /* Primary palette (Orange brand) */
  --bp-primary:#ff6b00;
  --bp-primary-dark:#e55a00;
  --bp-primary-light:#ffa566;

  /* Neutrals */
  --bp-bg:#ffffff;
  --bp-surface:#ffffff;
  --bp-surface-2:#fafafa;
  --bp-secondary:#1f2937; /* slate-800 */
  --bp-text:#374151;      /* slate-700 */
  --bp-text-muted:#6b7280;/* slate-500 */
  --bp-border:#e5e7eb;    /* slate-200 */
  --bp-light:#f8fafc;     /* slate-50 */

  /* Status */
  --bp-success:#22c55e;
  --bp-danger:#ef4444;
  --bp-warning:#f59e0b;

  /* Effects */
  --bp-shadow-sm:0 1px 2px rgba(0,0,0,.05);
  --bp-shadow-md:0 6px 18px rgba(17,24,39,.08); /* slate shadow */
  --bp-ring:0 0 0 3px rgba(255,107,0,.12);
}

/* Dark mode (auto) */
@media (prefers-color-scheme: dark){
  :root{
    --bp-bg:#0b1220;
    --bp-surface:#0f172a;     /* slate-900 */
    --bp-surface-2:#111827;   /* slate-900+ */
    --bp-secondary:#e5e7eb;
    --bp-text:#e5e7eb;
    --bp-text-muted:#9ca3af;
    --bp-border:#1f2937;
    --bp-light:#0b1220;
    --bp-shadow-sm:none;
    --bp-shadow-md:none;
  }
}

.behpardakht-container{
  padding:20px 0;
  font-family:'Vazir','IRANSans',-apple-system,BlinkMacSystemFont,'Segoe UI',Tahoma,Arial,sans-serif;
  direction:rtl;
  color:var(--bp-text);
}

.behpardakht-container *{ box-sizing:border-box; }

/* ----- Card shells (فیلتر + جدول) ----- */
.bp-filters-section,
.bp-table-section{
  background:var(--bp-surface);
  border:1px solid var(--bp-border);
  border-radius:12px;
  padding:20px;
  margin-bottom:24px;
  box-shadow:var(--bp-shadow-md);
}

/* Title bar (اختیاری اگر سربرگ اضافه کردی) */
.bp-titlebar{
  display:flex; align-items:center; justify-content:space-between;
  padding:8px 0 16px 0; margin-bottom:8px;
  border-bottom:1px dashed var(--bp-border);
}
.bp-title{
  font-weight:700; font-size:16px; color:var(--bp-secondary);
  position:relative; padding-right:12px;
}
.bp-title:before{
  content:""; position:absolute; right:0; top:50%; transform:translateY(-50%);
  width:6px; height:16px; border-radius:3px;
  background:linear-gradient(135deg,var(--bp-primary),var(--bp-primary-light));
}

/* ----- Filters ----- */
.bp-filter-form .form-group{ margin-bottom:14px; }
.bp-filter-form label{
  display:block; margin-bottom:6px; color:var(--bp-text); font-size:13px; font-weight:600;
}
.bp-filter-form label i{ color:var(--bp-primary); margin-left:6px; font-size:12px; }

.bp-filter-form .form-control{
  width:100%; height:40px; padding:8px 12px;
  color:var(--bp-text);
  background:var(--bp-surface-2);
  border:1px solid var(--bp-border); border-radius:8px;
  transition:border-color .15s ease, box-shadow .15s ease, background .2s;
}
.bp-filter-form .form-control:focus{
  outline:none; border-color:var(--bp-primary);
  box-shadow:var(--bp-ring);
}

.bp-filter-form .btn{
  height:40px; padding:8px 14px; font-size:14px; font-weight:600;
  border-radius:10px; border:1px solid transparent; transition:transform .06s ease, box-shadow .2s;
}
.bp-filter-form .btn i{ margin-left:6px; font-size:13px; }

.bp-filter-form .btn-primary{
  background:linear-gradient(135deg,var(--bp-primary),var(--bp-primary-light));
  border-color:transparent; color:#fff;
  box-shadow:0 8px 16px rgba(255,107,0,.2);
}
.bp-filter-form .btn-primary:hover{ transform:translateY(-1px); }
.bp-filter-form .btn-default{
  background:var(--bp-surface-2); border-color:var(--bp-border); color:var(--bp-text);
}
.bp-filter-form .btn-default:hover{ background:var(--bp-light); }
.bp-filter-form .btn-success{
  background:linear-gradient(135deg,#16a34a,#22c55e);
  border-color:transparent; color:#fff;
  box-shadow:0 8px 16px rgba(34,197,94,.2);
}
.bp-filter-form .btn-success:hover{ transform:translateY(-1px); }

/* Group buttons (سازگار با تم‌های جدید) */
.btn-group-justified{ display:flex; gap:8px; }
.btn-group-justified .btn{ flex:1 1 0; }

/* ----- Table ----- */
.bp-table-section{ padding:0; overflow:hidden; }
.table-responsive{ width:100%; overflow:auto; }

.bp-table{
  width:100%; margin-bottom:0; font-size:14px; border-collapse:separate; border-spacing:0;
}

/* Sticky header */
.bp-table thead th{
  position:sticky; top:0; z-index:5;
  background:linear-gradient(180deg,var(--bp-light),var(--bp-surface));
  border-bottom:2px solid var(--bp-primary);
  color:var(--bp-secondary);
  font-weight:700; padding:12px 12px; font-size:13px; text-align:right; white-space:nowrap;
  backdrop-filter:saturate(120%) blur(6px);
}

.bp-table thead th:first-child{ border-top-right-radius:12px; }
.bp-table thead th:last-child { border-top-left-radius:12px; }

.bp-table thead th a{
  color:var(--bp-secondary); text-decoration:none; display:inline-flex; align-items:center; gap:6px;
}
.bp-table thead th a:hover{ color:var(--bp-primary); }
.bp-table thead th a i{ color:var(--bp-primary); font-size:11px; }

.bp-table tbody tr{
  transition:background-color .15s ease, box-shadow .2s ease;
  border-bottom:1px solid var(--bp-border);
}
.bp-table tbody tr:hover{ background-color:rgba(255,107,0,.03); }

.bp-table tbody tr.row-success{ background-color:rgba(34,197,94,.06); }
.bp-table tbody tr.row-danger { background-color:rgba(239,68,68,.06); }

.bp-table tbody td{
  padding:12px; vertical-align:middle; color:var(--bp-text);
}
.bp-table tbody td:first-child{ border-right:1px solid var(--bp-border); }
.bp-table tbody td:last-child { border-left:1px solid var(--bp-border); }

/* ----- Micro components ----- */
.bp-id{
  background:var(--bp-light); padding:4px 9px; border-radius:8px;
  font-weight:700; color:var(--bp-secondary); font-size:12px;
}

.bp-client-link{ color:var(--bp-secondary); text-decoration:none; font-weight:600; }
.bp-client-link:hover{ color:var(--bp-primary); }
.bp-client-link i{ color:var(--bp-primary); margin-left:6px; font-size:12px; }

.bp-invoice-link{
  background:linear-gradient(135deg,var(--bp-primary),var(--bp-primary-light));
  color:#fff; padding:4px 12px; border-radius:999px; text-decoration:none;
  font-weight:700; font-size:12px; display:inline-block; transition:filter .2s;
}
.bp-invoice-link:hover{ filter:brightness(0.95); color:#fff; }

.bp-code{
  font-family:'Courier New',monospace; background:var(--bp-light);
  padding:3px 8px; border-radius:8px; font-size:13px;
  direction:ltr; unicode-bidi:isolate; font-variant-numeric:tabular-nums;
}

.bp-transaction-id{
  background:linear-gradient(135deg,var(--bp-primary),var(--bp-primary-light));
  color:#fff; padding:5px 12px; border-radius:999px; font-size:12px; font-weight:600;
  cursor:pointer; transition:transform .12s ease, box-shadow .2s ease;
  display:inline-flex; align-items:center; gap:6px;
  box-shadow:0 6px 14px rgba(255,107,0,.2);
}
.bp-transaction-id:hover{ transform:translateY(-1px); box-shadow:0 8px 18px rgba(255,107,0,.28); }
.bp-transaction-id i{ font-size:11px; }

.bp-amount{
  color:var(--bp-primary); font-size:15px; font-weight:700;
  direction:ltr; unicode-bidi:isolate; font-variant-numeric:tabular-nums;
}

.bp-card-number{
  background:var(--bp-secondary); color:#fff; padding:4px 10px; border-radius:8px;
  font-family:monospace; font-size:12px; letter-spacing:1px; white-space:nowrap;
  direction:ltr; unicode-bidi:isolate;
}

/* Status chips */
.bp-status{
  padding:5px 12px; border-radius:999px; font-size:12px; font-weight:800; display:inline-flex; align-items:center; gap:6px;
  background:var(--bp-light); color:var(--bp-secondary); border:1px solid var(--bp-border);
}
.bp-status:before{
  content:""; width:8px; height:8px; border-radius:50%;
  background:var(--bp-text-muted); display:inline-block;
}
.bp-status-success{ background:rgba(34,197,94,.12); color:#065f46; border-color:rgba(34,197,94,.25); }
.bp-status-success:before{ background:var(--bp-success); }
.bp-status-pending{ background:rgba(245,158,11,.12); color:#7c2d12; border-color:rgba(245,158,11,.25); }
.bp-status-pending:before{ background:var(--bp-warning); }
.bp-status-failed{ background:rgba(239,68,68,.12); color:#7f1d1d; border-color:rgba(239,68,68,.25); }
.bp-status-failed:before{ background:var(--bp-danger); }

/* Error badge */
.bp-error-code{
  background:var(--bp-danger); color:#fff; padding:4px 9px; border-radius:8px;
  font-size:11px; font-weight:800; cursor:help; border:1px solid rgba(255,255,255,.15);
}

/* Date */
.bp-date{ text-align:center; line-height:1.3; }

/* Action */
.bp-action-btn{
  background:linear-gradient(135deg,var(--bp-primary),var(--bp-primary-light));
  color:#fff; width:32px; height:32px; display:inline-flex; align-items:center; justify-content:center;
  border-radius:50%; text-decoration:none; transition:transform .12s ease, box-shadow .2s ease;
  box-shadow:0 8px 18px rgba(255,107,0,.2);
}
.bp-action-btn:hover{ transform:translateY(-1px) scale(1.05); color:#fff; }

/* Empty state */
.bp-no-data{ padding:64px 20px; text-align:center; }
.bp-no-data i{ font-size:52px; color:var(--bp-border); margin-bottom:16px; }
.bp-no-data p{ color:var(--bp-text-muted); font-size:16px; margin:0; }

/* Pagination */
.bp-pagination{ text-align:center; padding:22px 0; }
.bp-pagination .pagination{
  display:inline-flex; margin:0 0 14px 0; border-radius:12px; overflow:hidden;
  box-shadow:var(--bp-shadow-md);
}
.bp-pagination .pagination>li{ margin:0; }
.bp-pagination .pagination>li>a{
  background:var(--bp-surface); border:1px solid var(--bp-border); border-left:none;
  color:var(--bp-text); padding:9px 16px; text-decoration:none; font-size:14px; font-weight:700;
  transition:background .15s, color .15s;
}
.bp-pagination .pagination>li:first-child>a{ border-left:1px solid var(--bp-border); border-radius:12px 0 0 12px; }
.bp-pagination .pagination>li:last-child>a{ border-radius:0 12px 12px 0; }
.bp-pagination .pagination>li>a:hover{ background:var(--bp-light); color:var(--bp-primary); }
.bp-pagination .pagination>li.active>a{
  background:linear-gradient(135deg,var(--bp-primary),var(--bp-primary-light));
  border-color:transparent; color:#fff;
}
.bp-pagination .pagination>li.disabled>a{ color:var(--bp-text-muted); cursor:not-allowed; opacity:.6; }

.bp-pagination-info{ color:var(--bp-text-muted); font-size:14px; }
.bp-pagination-info strong{ color:var(--bp-primary); font-weight:800; }

/* Tooltips */
.tooltip{ z-index:1085; }
.tooltip-inner{
  background:var(--bp-secondary); padding:7px 12px; border-radius:8px; font-size:12px; color:#fff;
}

/* Responsive */
@media (max-width: 992px){
  .bp-table thead th{ font-size:12px; }
  .bp-table tbody td{ padding:10px; }
}
@media (max-width: 768px){
  .bp-filter-form .form-group{ margin-bottom:10px; }
  .bp-table{ font-size:12px; }
  .bp-transaction-id{ font-size:11px; padding:4px 10px; }
  .bp-amount{ font-size:13px; }
}

/* Print */
@media print{
  .bp-filters-section,.bp-pagination,.bp-action-btn{ display:none!important; }
  .bp-table-section{ box-shadow:none!important; border:1px solid #000!important; }
  .bp-table th,.bp-table td{ border-color:#000!important; }
}

/* Motion reduce */
@media (prefers-reduced-motion: reduce){
  .behpardakht-container>*,
  .bp-action-btn,.bp-transaction-id{ animation:none!important; transition:none!important; }
}

/* Subtle entrance */
@keyframes fadeIn{ from{opacity:0; transform:translateY(10px);} to{opacity:1; transform:translateY(0);} }
.behpardakht-container>*{ animation:fadeIn .25s ease-out; }
